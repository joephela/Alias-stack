/* ── Reset & Variables ───────────────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --font:      -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'SF Mono', 'Fira Code', 'Consolas', monospace;

  --bg:        #f5f5f5;
  --surface:   #ffffff;
  --border:    #e0e0e0;
  --text:      #1a1a1a;
  --text-muted:#888;
  --accent:    #0066cc;
  --accent-fg: #ffffff;
  --danger:    #cc2200;
  --danger-fg: #ffffff;
  --radius:    6px;
  --shadow:    0 1px 4px rgba(0,0,0,0.08);
}

@media (prefers-color-scheme: dark) {
  :root {
    --bg:        #1e1e1e;
    --surface:   #2a2a2a;
    --border:    #3a3a3a;
    --text:      #f0f0f0;
    --text-muted:#888;
    --accent:    #4d9de0;
    --shadow:    0 1px 4px rgba(0,0,0,0.4);
  }
}

body {
  font-family: var(--font);
  background: var(--bg);
  color: var(--text);
  font-size: 14px;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

/* ── Layout ──────────────────────────────────────────────────────────────────── */
.screen {
  display: flex;
  flex-direction: column;
  height: 100vh;
  overflow: hidden;
}

.topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow);
  flex-shrink: 0;
  -webkit-app-region: drag;          /* Mac: drag window from titlebar area */
}

/* Buttons inside the topbar must opt out of drag so they stay clickable */
.topbar button,
.topbar-right,
.topbar-left {
  -webkit-app-region: no-drag;
}

.topbar-left  { display: flex; align-items: center; gap: 12px; }
.topbar-right { display: flex; align-items: center; gap: 10px; }

.app-title { font-size: 16px; font-weight: 600; }

.shell-file-badge {
  font-family: var(--font-mono);
  font-size: 11px;
  padding: 2px 8px;
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 20px;
  color: var(--text-muted);
  cursor: default;
  user-select: none;
}

.content {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
}

.content-form {
  max-width: 520px;
  margin: 0 auto;
  padding-top: 24px;
}

/* ── Buttons ─────────────────────────────────────────────────────────────────── */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 7px 16px;
  border-radius: var(--radius);
  border: 1px solid transparent;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  transition: opacity 0.15s;
  white-space: nowrap;
}

.btn:hover    { opacity: 0.85; }
.btn:disabled { opacity: 0.5; cursor: not-allowed; }

.btn-primary   { background: var(--accent);  color: var(--accent-fg); border-color: var(--accent); }
.btn-secondary { background: var(--surface); color: var(--text);      border-color: var(--border); }
.btn-danger    { background: var(--danger);  color: var(--danger-fg); border-color: var(--danger); }

.btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding: 5px 8px;
  border-radius: var(--radius);
  cursor: pointer;
  font-size: 14px;
  opacity: 0.55;
  transition: opacity 0.1s, background 0.1s;
  line-height: 1;
}

.btn-icon:hover           { opacity: 1; background: var(--border); }
.btn-icon-danger:hover    { opacity: 1; background: #ffeaea; }

/* ── Table ───────────────────────────────────────────────────────────────────── */
.alias-table {
  width: 100%;
  border-collapse: collapse;
  background: var(--surface);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow);
}

.alias-table th {
  text-align: left;
  padding: 10px 14px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-muted);
  background: var(--bg);
  border-bottom: 1px solid var(--border);
}

.alias-table td {
  padding: 11px 14px;
  border-bottom: 1px solid var(--border);
  vertical-align: middle;
}

.alias-table tbody tr:last-child td { border-bottom: none; }
.alias-table tbody tr:hover td      { background: var(--bg); }

.alias-name    { font-family: var(--font-mono); font-weight: 600; color: var(--accent); font-size: 13px; }
.alias-command { font-family: var(--font-mono); font-size: 12px; color: var(--text); }
.alias-description { color: var(--text-muted); font-size: 13px; }
.alias-actions { width: 90px; white-space: nowrap; text-align: right; }
.muted         { color: var(--text-muted); }

/* ── State Messages ──────────────────────────────────────────────────────────── */
.state-message,
.state-empty,
.state-error {
  text-align: center;
  padding: 64px 20px;
  color: var(--text-muted);
}

.state-error p   { color: var(--danger); margin-bottom: 14px; font-weight: 500; }
.state-empty p   { margin-bottom: 18px; font-size: 15px; }
.state-message   { font-size: 15px; }

/* ── Form ────────────────────────────────────────────────────────────────────── */
.alias-form {
  display: flex;
  flex-direction: column;
  gap: 22px;
}

.form-field {
  display: flex;
  flex-direction: column;
  gap: 7px;
}

.form-field label {
  font-size: 13px;
  font-weight: 500;
}

.form-field input {
  padding: 9px 12px;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: var(--surface);
  color: var(--text);
  font-size: 14px;
  font-family: var(--font);
  outline: none;
  transition: border-color 0.15s, box-shadow 0.15s;
}

.form-field input:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(0,102,204,0.12);
}

.form-field input:disabled {
  opacity: 0.55;
  cursor: not-allowed;
  background: var(--bg);
}

.input-error { border-color: var(--danger) !important; }

.required    { color: var(--danger); margin-left: 2px; }
.optional    { color: var(--text-muted); font-size: 12px; font-weight: 400; margin-left: 4px; }
.field-error { color: var(--danger); font-size: 12px; }
.field-hint  { color: var(--text-muted); font-size: 12px; }

.form-actions {
  display: flex;
  gap: 10px;
  padding-top: 4px;
}

.save-error {
  color: var(--danger);
  font-size: 13px;
  padding: 10px 14px;
  background: rgba(204,34,0,0.08);
  border: 1px solid rgba(204,34,0,0.2);
  border-radius: var(--radius);
}

/* ── Confirm Dialog ──────────────────────────────────────────────────────────── */
.dialog-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
  animation: fade-in 0.1s ease;
}

@keyframes fade-in {
  from { opacity: 0; }
  to   { opacity: 1; }
}

.dialog {
  background: var(--surface);
  border-radius: var(--radius);
  padding: 24px;
  width: 340px;
  box-shadow: 0 8px 32px rgba(0,0,0,0.22);
  animation: slide-up 0.15s ease;
}

@keyframes slide-up {
  from { transform: translateY(8px); opacity: 0; }
  to   { transform: translateY(0);   opacity: 1; }
}

.dialog-message { font-weight: 600; font-size: 15px; margin-bottom: 8px; }
.dialog-detail  { color: var(--text-muted); font-size: 13px; margin-bottom: 22px; line-height: 1.4; }
.dialog-actions { display: flex; gap: 10px; justify-content: flex-end; }
